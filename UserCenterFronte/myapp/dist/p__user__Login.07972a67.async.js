(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[531],{34687:function(S){S.exports={container:"container___1sYa-",lang:"lang___l6cji",content:"content___2zk1-",icon:"icon___rzGKO"}},34436:function(S,p,e){"use strict";e.d(p,{C:function(){return I}});var I="https://q9.itc.cn/q_70/images03/20240509/ed6fba708e1748e9a33e59be848515ee.jpeg"},80979:function(S,p,e){"use strict";e.r(p),e.d(p,{default:function(){return _}});var I=e(48736),P=e(27049),se=e(18106),B=e(63885),ue=e(34792),C=e(48086),u=e(90636),c=e(11849),g=e(3182),E=e(2824),ie=e(17462),Y=e(76772),K=e(71390),D=e(93387),m=e(38705);function V(Z,f){return L.apply(this,arguments)}function L(){return L=(0,g.Z)((0,u.Z)().mark(function Z(f,v){return(0,u.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",(0,m.WY)("/api/login/captcha",(0,c.Z)({method:"GET",params:(0,c.Z)({},f)},v||{})));case 1:case"end":return h.stop()}},Z)})),L.apply(this,arguments)}var W=e(89366),U=e(2603),H=e(29985),J=e(43504),F=e(5966),Q=e(16434),X=e(63434),z=e(67294),b=e(34687),d=e.n(b),k=e(34436),w=e(16924),r=e(85893),A=function(f){var v=f.content;return(0,r.jsx)(Y.Z,{style:{marginBottom:24},message:v,type:"error",showIcon:!0})},q=function(){var f=(0,z.useState)({}),v=(0,E.Z)(f,2),T=v[0],h=v[1],ee=(0,z.useState)("account"),M=(0,E.Z)(ee,2),j=M[0],re=M[1],$=(0,m.tT)("@@initialState"),x=$.initialState,ae=$.setInitialState,ne=function(){var o=(0,g.Z)((0,u.Z)().mark(function t(){var s,i;return(0,u.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,x==null||(s=x.fetchUserInfo)===null||s===void 0?void 0:s.call(x);case 2:if(i=a.sent,!i){a.next=6;break}return a.next=6,ae(function(y){return(0,c.Z)((0,c.Z)({},y),{},{currentUser:i})});case 6:case"end":return a.stop()}},t)}));return function(){return o.apply(this,arguments)}}(),te=function(){var o=(0,g.Z)((0,u.Z)().mark(function t(s){var i,l,a,y,G,R;return(0,u.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,D.x4)((0,c.Z)((0,c.Z)({},s),{},{type:j}));case 3:if(i=n.sent,!i){n.next=15;break}return l="\u767B\u5F55\u6210\u529F\uFF01",C.ZP.success(l),n.next=9,ne();case 9:if(m.m8){n.next=11;break}return n.abrupt("return");case 11:return a=m.m8.location.query,y=a,G=y.redirect,m.m8.push(G||"/"),n.abrupt("return");case 15:n.next=21;break;case 17:n.prev=17,n.t0=n.catch(0),R="\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01",C.ZP.error(R);case 21:case"end":return n.stop()}},t,null,[[0,17]])}));return function(s){return o.apply(this,arguments)}}(),N=T.status,O=T.type;return(0,r.jsxs)("div",{className:d().container,children:[(0,r.jsx)("div",{className:d().content,children:(0,r.jsxs)(J.U,{logo:(0,r.jsx)("img",{alt:"logo",src:k.C}),title:"\u515C\u515C\u73AF\u6E38\u4E16\u754C",subTitle:"\u7F8E\u6EE1\u5E78\u798F\u5FEB\u4E50\u8D22\u6E90\u6EDA\u6EDA",initialValues:{autoLogin:!0},onFinish:function(){var o=(0,g.Z)((0,u.Z)().mark(function t(s){return(0,u.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,te(s);case 2:case"end":return l.stop()}},t)}));return function(t){return o.apply(this,arguments)}}(),children:[(0,r.jsx)(B.Z,{activeKey:j,onChange:re,children:(0,r.jsx)(B.Z.TabPane,{tab:"\u8D26\u6237\u5BC6\u7801\u767B\u5F55"},"account")}),N==="error"&&O==="account"&&(0,r.jsx)(A,{content:"\u9519\u8BEF\u7684\u7528\u6237\u540D\u548C\u5BC6\u7801(admin/ant.design)"}),j==="account"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(F.Z,{name:"userAccount",fieldProps:{size:"large",prefix:(0,r.jsx)(W.Z,{className:d().prefixIcon})},placeholder:"\u7528\u6237\u540D: admin or user",rules:[{required:!0,message:"\u7528\u6237\u540D\u662F\u5FC5\u586B\u9879\uFF01"}]}),(0,r.jsx)(F.Z.Password,{name:"userPassword",fieldProps:{size:"large",prefix:(0,r.jsx)(U.Z,{className:d().prefixIcon})},placeholder:"\u5BC6\u7801: ant.design",rules:[{required:!0,message:"\u5BC6\u7801\u662F\u5FC5\u586B\u9879\uFF01"},{min:8,type:"string",message:"\u957F\u5EA6\u4E0D\u80FD\u5C0F\u4E8E8"}]})]}),N==="error"&&O==="mobile"&&(0,r.jsx)(A,{content:"\u9A8C\u8BC1\u7801\u9519\u8BEF"}),j==="mobile"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(F.Z,{fieldProps:{size:"large",prefix:(0,r.jsx)(H.Z,{className:d().prefixIcon})},name:"mobile",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\uFF01",rules:[{required:!0,message:"\u624B\u673A\u53F7\u662F\u5FC5\u586B\u9879\uFF01"},{pattern:/^1\d{10}$/,message:"\u4E0D\u5408\u6CD5\u7684\u624B\u673A\u53F7\uFF01"}]}),(0,r.jsx)(Q.Z,{fieldProps:{size:"large",prefix:(0,r.jsx)(U.Z,{className:d().prefixIcon})},captchaProps:{size:"large"},placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01",captchaTextRender:function(t,s){return t?"".concat(s," ","\u79D2\u540E\u91CD\u65B0\u83B7\u53D6"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"},name:"captcha",rules:[{required:!0,message:"\u9A8C\u8BC1\u7801\u662F\u5FC5\u586B\u9879\uFF01"}],onGetCaptcha:function(){var o=(0,g.Z)((0,u.Z)().mark(function t(s){var i;return(0,u.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,V({phone:s});case 2:if(i=a.sent,i!==!1){a.next=5;break}return a.abrupt("return");case 5:C.ZP.success("\u83B7\u53D6\u9A8C\u8BC1\u7801\u6210\u529F\uFF01\u9A8C\u8BC1\u7801\u4E3A\uFF1A1234");case 6:case"end":return a.stop()}},t)}));return function(t){return o.apply(this,arguments)}}()})]}),(0,r.jsxs)("div",{style:{marginBottom:24},children:[(0,r.jsx)(X.Z,{noStyle:!0,name:"autoLogin",children:"\u81EA\u52A8\u767B\u5F55"}),(0,r.jsx)(P.Z,{type:"vertical"}),(0,r.jsx)(w.Link,{to:"/user/register",children:"\u65B0\u7528\u6236\u6CE8\u518A"}),(0,r.jsx)(P.Z,{type:"vertical"}),(0,r.jsx)("a",{style:{float:"right"},children:"\u5FD8\u8BB0\u5BC6\u7801"})]})]})}),(0,r.jsx)(K.Z,{})]})},_=q}}]);
